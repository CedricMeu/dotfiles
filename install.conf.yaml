- defaults:
    link:
      create: true
    shell:
      quiet: true

- clean: ['~']

- link:
    # Package managers
    # ~/.Brewfile: ./homebrew/Brewfile
    ~/.config/nix/: ./nix/

    # Zsh
    ~/.zshrc: ./zsh/.zshrc
    ~/.oh-my-zsh/: ./ohmyzsh/

    # Git
    ~/.gitconfig: ./git/gitconfig

    # Editors
    ~/.config/helix/: ./helix/
    # ~/.config/nvim/: ./nvim/

    # Window Managers
    # ~/.config/yabai/: ./yabai/
    # ~/.config/skhd/: ./skhd/
    # ~/.hammerspoon/: ./hammerspoon/

    # Tmux
    ~/.tmux.conf: ./tmux/tmux.conf
    ~/.tmux/plugins/tpm/: ./tpm/

    # Terminals
    ~/.config/alacritty/: ./alacritty/

- shell:
  - 
    command: command -v brew > /dev/null || /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    description: Installing homebrew
    stdout: true
  - 
    command: command -v nix-shell > /dev/null || sh <(curl -L https://nixos.org/nix/install)
    description: Installing nix
    stdout: true
  - 
    command: brew update
    description: Updating homebrew
    stdout: true
  - 
    command: brew upgrade
    description: Upgrading hombrew packages
    stdout: true
  - 
    command: brew bundle --global
    description: Installing homebrew dependencies
    stdout: true
  -
    command: brew bundle cleanup --global --force
    description: Removing unspecified homebrew dependencies
    stdout: true
  - 
    command: if [[ $(which zsh) != $SHELL ]] ; then sudo chsh -s $(which zsh) $USER ; fi
    description: Making zsh the default shell]
    stdout: false
  - 
    command: git submodule update --init --recursive
    description: Installing submodules
    stdout: false
  - 
    command: rustup-init -y
    description: Install rust toolchain
    stoud: true
  # - [brew services restart yabai, Start yabai]
  # - [brew services restart skhd, Start skhd]
  # - [open -a Hammerspoon, Start hammerspoon]
