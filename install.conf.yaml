- defaults:
    link:
      create: true
    shell:
      quiet: true

- clean: ['~']

- link:
    ~/.Brewfile: ./homebrew/Brewfile
    ~/.config/nvim/: ./nvim
    ~/.zshrc: ./zsh/.zshrc
    ~/.oh-my-zsh: ./ohmyzsh/
    ~/.config/yabai/: ./yabai/
    ~/.config/skhd/: ./skhd/
    ~/.gitconfig: ./git/gitconfig

- shell:
  # - [which brew > /dev/null && /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)", Installing homebrew]
  - 
    command: brew update
    description: Updating homebrew
    stdout: true
  - 
    command: brew upgrade
    description: Upgrading hombrew packages
    stdout: true
  - 
    command: brew bundle --global
    description: Installing homebrew dependencies
    stdout: true
  - ["if [[ $(which zsh) != $SHELL ]] ; then sudo chsh -s $(which zsh) $USER ; fi", Making zsh the default shell]
  - [git submodule update --init --recursive, Installing submodules]
  - [brew services restart yabai, Start yabai]
  - [brew services restart skhd, Start skhd]
  - [rustup-init -y, Install rust toolchain]
